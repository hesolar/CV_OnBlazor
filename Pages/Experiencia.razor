
@page "/Experiencia"
@page "/Experience"
@using CV.Shared.Resources
@using CV.Shared
@inject IStringLocalizer<AllResourcesRes> AllResourcesResolver

<!-- Experience-->


<section class="resume-section" id="experiencia">


   

    <div class="resume-section-content">
        <h2 class="mb-0">
            <span class="text-primary"> @AllResourcesResolver["navbar_experiencia"]</span>
        </h2>
        <br>

        <SharedSection AltImagen="Hiberus Tecnología"
                       Description=@(@$"{AllResourcesResolver["programadorWebJuniorHiberusDescripcion1"]}<br><li>{AllResourcesResolver["programadorWebJuniorHiberusDescripcion2"]}</li><li>{AllResourcesResolver["programadorWebJuniorHiberusDescripcion3"]}</li>".StringToRenderFragament())
                       Subtitulo=@AllResourcesResolver["programadorWebJuniorHiberusSubTitulo"]
                       SrcImagen="assets/img/logoHiberus.png"
                       Titulo=@AllResourcesResolver["programadorWebJuniorHiberusTitulo"]
                       TiempoTrabajo=@GetDateSince(new DateTime(2022,6,1))/>

        <SharedSection AltImagen="Hiberus Tecnología"
                       Description=@(AllResourcesResolver["contratoPracticasHiberus1Descripcion"].ToString().StringToRenderFragament())
                       Subtitulo=@AllResourcesResolver["contratoPracticasHiberus1Subitulo"]
                       SrcImagen="assets/img/logoHiberus.png"
                       Titulo=@AllResourcesResolver["contratoPracticasHiberus1Titulo"]
                       TiempoTrabajo=@($"dc 2011 - mar. 2013 · 4 {AllResourcesResolver["meses"]}") />

        <SharedSection AltImagen="Gnoss Tecnología"
                       Description=@AllResourcesResolver["contratoPracticasGnossDescripcion"].ToString().StringToRenderFragament()
                       Subtitulo=@AllResourcesResolver["contratoPracticasGnossSubitulo"]
                       SrcImagen="assets/img/logoGnoss.png"
                       Titulo=@AllResourcesResolver["contratoPracticasHiberus1Titulo"]
                       TiempoTrabajo=@($"sept. 2021 - dc. 2021 · 4 {AllResourcesResolver["meses"]})") />

        <SharedSection AltImagen="Hiberus Tecnología"
                       Description=@AllResourcesResolver["contratoPracticasHiberus2Descripcion"].ToString().StringToRenderFragament()
                       Subtitulo=@AllResourcesResolver["contratoPracticasGnossSubitulo"]
                       SrcImagen="assets/img/logoHiberus.png"
                       Titulo=@AllResourcesResolver["contratoPracticasHiberus1Titulo"]
                       TiempoTrabajo=@($"jul. 2021 - sept. 2021 · 3 {AllResourcesResolver["meses"]}") />
      
    </div>
</section>
<hr class="m-0" />

@code{
    String GetDateSince(DateTime fromDate)
    {
        DateTime currentDate = DateTime.Now;

        // Si la fecha de inicio es mayor que la fecha actual, intercambiamos las fechas
        if (fromDate > currentDate)
        {
            DateTime temp = fromDate;
            fromDate = currentDate;
            currentDate = temp;
        }

        int years = currentDate.Year - fromDate.Year;
        int months = currentDate.Month - fromDate.Month;

        // Ajustar los años y meses si el mes actual es menor que el mes de inicio
        if (months < 0)
        {
            years--;
            months += 12;
        }

        //tohack refactorizar y limpiar esto
        //ajustar si son 0 nada, si es uno singular, si son varios plural
        string monthResource;
        string yearResource;

        if (months == 0) monthResource = "";
        if (months == 1) monthResource = $"1 {AllResourcesResolver["month"]}";
        else monthResource = $"{months} {AllResourcesResolver["months"]}";  
        
        
        if (years == 0) yearResource = "";
        if (years == 1) yearResource = $"1 {AllResourcesResolver["year"]}";
        else yearResource = $"{years} {AllResourcesResolver["years"]}";
        return ($" {monthResource}, {yearResource} ");
    
    
    }



}